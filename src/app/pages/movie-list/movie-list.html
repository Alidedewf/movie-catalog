<h1>–ö–∞—Ç–∞–ª–æ–≥ —Ñ–∏–ª—å–º–æ–≤</h1>

<!-- üîó –ö–Ω–æ–ø–∫–∞ "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" -->
<a routerLink="/favorites" class="favorites-link">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</a>

<!-- üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
<div class="filters">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
    (input)="onSearch()"
  />

  <select [(ngModel)]="selectedGenre" (change)="fetchMovies()">
    <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
    <option *ngFor="let genre of genres" [value]="genre.id">
      {{ genre.name }}
    </option>
  </select>

  <select [(ngModel)]="selectedYear" (change)="fetchMovies()">
    <option value="">–õ—é–±–æ–π –≥–æ–¥</option>
    <option *ngFor="let year of getYears()">{{ year }}</option>
  </select>

  <select [(ngModel)]="selectedRating" (change)="fetchMovies()">
    <option value="">–õ—é–±–æ–π —Ä–µ–π—Ç–∏–Ω–≥</option>
    <option *ngFor="let r of getRatings()">–û—Ç {{ r }}</option>
  </select>

  <select [(ngModel)]="selectedSort" (change)="fetchMovies()">
    <option value="">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</option>
    <option value="title">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
    <option value="year">–ü–æ –≥–æ–¥—É (–Ω–æ–≤—ã–µ)</option>
    <option value="rating">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
  </select>
</div>

<!-- ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ -->
<div *ngIf="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–ª—å–º–æ–≤...</div>

<!-- üé¨ –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤ -->
<div class="movies-grid" *ngIf="!loading">
  <a class="movie-card" *ngFor="let movie of movies" [routerLink]="['/movie', movie.id]">
    <img
      [src]="movie.poster_path ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path : 'https://via.placeholder.com/500x750?text=–ù–µ—Ç+–ø–æ—Å—Ç–µ—Ä–∞'"
      alt="{{ movie.title }}"
    />
    <div class="movie-info">
      <div class="movie-title">{{ movie.title }}</div>
      <div class="movie-meta">
        –ì–æ–¥: {{ movie.release_date?.split('-')[0] || '‚Äî' }}<br />
        –†–µ–π—Ç–∏–Ω–≥: {{ movie.vote_average || '‚Äî' }}
      </div>
    </div>
  </a>
</div>